<div xmlns:th="http://www.thymeleaf.org">
    <section class="jumbotron text-center">
        <div class="container">
            <h1 class="jumbotron-heading">G-Book SHOP</h1>
            <h3 class="jumbotron-heading">Book details</h3>
        </div>
    </section>


    <div class="container-fluid mb-4 " style="width: 100% ">

        <div class="container mt-5 mb-5 ">
            <div class="d-flex justify-content-center  ml-5">
                <div class="col-5 text-center">
                    <img class="img-fluid img-responsive rounded product-image"
                         th:src="@{${'/img/books' + book.id + '/' + book.photo}}" style="    vertical-align: middle;
                          border-style: none;width: 80%;height: auto;">
                    <div class="ratings mr-2 text-center mt-3" style="font-size: 30px">
                        <i class="fa fa-star" th:if="${book.getRate()/book.getNumRate()>=1}" style="color: gold"></i>
                        <i class="fa fa-star-o" aria-hidden="true" th:if="${book.getRate()/book.getNumRate()<1}"></i>
                        <i class="fa fa-star" th:if="${book.getRate()/book.getNumRate()>=2}" style="color: gold"></i>
                        <i class="fa fa-star-o" aria-hidden="true" th:if="${book.getRate()/book.getNumRate()<2}"></i>
                        <i class="fa fa-star" th:if="${book.getRate()/book.getNumRate()>=3}" style="color: gold"></i>
                        <i class="fa fa-star-o" aria-hidden="true" th:if="${book.getRate()/book.getNumRate()<3}"></i>
                        <i class="fa fa-star" th:if="${book.getRate()/book.getNumRate()>=4}" style="color: gold"></i>
                        <i class="fa fa-star-o" aria-hidden="true" th:if="${book.getRate()/book.getNumRate()<4}"></i>
                        <i class="fa fa-star" th:if="${book.getRate()/book.getNumRate()>=5}" style="color: gold"></i>
                        <i class="fa fa-star-o" aria-hidden="true" th:if="${book.getRate()/book.getNumRate()<5}"></i>


                        <form th:action="@{'/books/rating/{id}' (id=${book.getId()})}" th:method="POST">
                            <p class="mt-3" style="margin-bottom: -20px;font-size: 25px">Your rating: </p>
                            <div class="rating">
                                <input type="radio" name="rating" value="5" id="5">
                                <label for="5">☆</label>
                                <input type="radio" name="rating" value="4" id="4">
                                <label for="4">☆</label>
                                <input type="radio" name="rating" value="3" id="3">
                                <label for="3">☆</label>
                                <input type="radio" name="rating" value="2" id="2">
                                <label for="2">☆</label>
                                <input type="radio" name="rating" value="1" id="1">
                                <label for="1">☆</label>
                            </div>
                            <div th:if="${#request.getParameter('hasRating')}" class="ml-5 alert alert-success alert-block" role="alert" style="width: 70%;font-size: 15px;margin-bottom: -4px">
                                <button type="button" class="close">x</button>
                                Yor rating is success, thank you!
                            </div>
                            <input type="submit" class="btn btn-dark  " value="Submit rating">
                        </form>
                    </div>
                </div>
                <div class="col-8">
                    <h2 class="mt-1 mb-1 spec-1" style="text-align: center">
                        <div th:text="${book.getName()}"></div>
                    </h2>
                    <div class="mt-1 mb-1 spec-1"><strong>Category: </strong>
                        <div th:text="${book.getCategory().getCategoryName()}"></div>
                    </div>
                    <div class="mt-1 mb-1 spec-1"><strong>Author: </strong>
                        <div th:text="${book.getAuthor().fullName()}"></div>
                    </div>
                    <div class="mt-1 mb-1 spec-1"><strong>Language: </strong>
                        <div th:text="${book.getLanguage()}"></div>
                    </div>
                    <h4 class="mr-1">Price:
                        <div th:text="${book.getPrice()}+ '$'"></div>
                    </h4>
                    <div class="mt-1 mb-1 spec-1" style="width: 100%"><strong>Description: </strong>
                        <p style="word-break: break-all" th:text="${book.getDescription()}">
                        </p>
                    </div>
                </div>
            </div>
        </div>

    </div>


    <div class="col mb-3" style="text-align: center">
        <div class="row d-inline ">
            <div class="col-sm-12 d-inline">
                <a href="/books" class="btn btn-lg btn-danger">Back</a>
            </div>
            <div class="col-sm-12  d-inline ">
                <a th:href="@{'/shopping-cart/add-book/{id}' (id=${book.getId()})}"  sec:authorize="isAuthenticated()" class="btn btn-lg btn-primary">Add
                    to
                    wishlist</a>
            </div>
        </div>
    </div>

</div>